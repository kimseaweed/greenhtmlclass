<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>이벤트 참여하기</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
	<style type="text/css">
		.box{
			width: 478px;
			height: 600px;
			background: url(machine.png);
			position: absolute;
			bottom:10%;
			left:50%;
			margin-left: -239px;
			z-index: 2;
		}
		.box button{
			position: absolute;
			bottom:10px;
			left:40%;
			z-index: 3;
		}
		.ticket{
			width: 400px;
			height: 150px;
			color:white;
			font-size: 1.5em;
			background-color: orange;
			text-align: center;
			line-height: 45px;
			position: absolute;
			left:50%;
			margin-left: -200px;
			top:350px;
			font-size: 0.8em;
			/*z-index: 2;*/
		}
		.ticket button{
			position: relative;
			top:-20px;
		}
	</style>
</head>
<body>
	<div class="box">
		<button>경품 추첨 클릭</button>
	</div>
	<div class="ticket">
		<h1>이벤트 상품</h1>
		<button>확인완료 클릭</button>
	</div>
	<script>
		$(function(){
			var present = ["20% 할인권 당첨!!", "꽝! 다시 추첨해 보세요. 하루에 3번까지 가능합니다.", "꽝! 다시 추첨해 보세요. 하루에 3번까지 가능합니다."];
			var select_btn = $(".box button");
			var ticket = $(".ticket");
			var txt = ticket.find("h1");//자식을 포함한 자손을 모두 선택할 수 있는 선택관련 메소드
			var confirm_btn = $(".ticket button");
			var count = 0;

			select_btn.click(function(){
				alert("두근두근 추첨중...결과를 확인해 보세요.");
				select = present.pop();
				txt.text(select);
				ticket.animate({"top":50});
				count++;
				if(count<2){
					confirm_btn.text("경품 추첨 재도전");
				}
				if(count==3){
					confirm_btn.text("쿠폰 보관함에 쏘옥 넣어드렸어요! 사용해 보세요.");
				}
				if(count>3){
					txt.text("하루 3번 경품추첨 가능횟수를 초과하였습니다.");
					confirm_btn.text("내일 다시 도전해보세요");
				}
			})
			confirm_btn.click(function(){
				ticket.animate({"top":350});
			})
		})
	</script>
</body>
</html>
